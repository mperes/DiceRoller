<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="keywords" content="Dragonlance, 5th Age, ,Fifth Age, Saga, Fate Deck, Deck, Cards, DnD, Dangeon and Dragons, Roleplay, RPG"/>
  <meta name="description" content="Lost your Fate Deck? No problem, just use our TableTop. We also support online multiplayer to run remote RPG sessions."/>
  <title>TableTop: An Online Dragonlance 5th Age Saga Fate Deck</title>

  <link href="https://fonts.googleapis.com/css?family=Quicksand:300" rel="stylesheet">
  <script>
  const appVersion = Date.now();
  const externalFiles1 = [
    {file: 'reset.css', cacheBurst: false},
    {file: 'main.css', cacheBurst: true},
    {file: 'libs/jquery-3.3.1.min.js', cacheBurst: false},
    {file: 'libs/fatedeck.js', cacheBurst: false},
    {file: 'libs/saga.js', cacheBurst: true},
    {file: 'libs/FileSaver.js', cacheBurst: false},
    {file: 'libs/sheet.js', cacheBurst: false},
    {file: 'main.js', cacheBurst: true}
  ];
  function appendFile(filename, cacheBurst, fileList) {
    cacheBurst = (typeof cacheBurst === 'boolean') ? cacheBurst : false;
    filetype = filename.split('.')[filename.split('.').length-1];
    filename = (cacheBurst) ? filename + '?v=' + appVersion : filename;
    if (filetype=='js'){
        var fileref=document.createElement('script')
        fileref.setAttribute('type','text/javascript')
        fileref.setAttribute('src', filename)
    }
    else if (filetype=='css') {
        var fileref=document.createElement('link')
        fileref.setAttribute('rel', 'stylesheet')
        fileref.setAttribute('type', 'text/css')
        fileref.setAttribute('href', filename)
    }
    if (typeof fileref!='undefined')
        fileref.onload = function() {
          if(Array.isArray(fileList))
            appendNext(fileList);
        }
        document.getElementsByTagName('head')[0].appendChild(fileref)
  }
  function appendNext(fileList) {
    if(fileList.length === 0) return;
    let nextFile = fileList[0];
    appendFile(nextFile.file, nextFile.cacheBurst, fileList);
    fileList.splice(0, 1);
  }

  appendNext(externalFiles1);
  </script>

</head>

<body class="loading">
  <div id="container" class="logged-off" style="display:none;">
    <div id="welcome">
      <div id="appTitle">
        <h1>TableTop</h1>
        <h2>An Online Dragonlance 5th Age Saga Fate Deck</h2>
      </div>
      <div id="multiplayer">
        <div>
          <input type="text" id="multiplayer-player" placeholder="Player name" />
          <input type="number" id="multiplayer-hand" placeholder="Hand" />
        </div>
        <input id="multiplayer-join" type="button"class="squareButton primary" value="Join" />
        <input id="multiplayer-create" type="button"class="squareButton disabled" value="Create" />
        <div id="multiplayer-isdm"><input type="checkbox" />Dungeon Master?</div>
      </div>
    </div>
    <div id="table-top">
      <div id="play-area"></div>
      <div id="deck-pile"></div>
      <div id="pool"></div>
      <div id="deck-graveyard"></div>
      <div id="player-hand"></div>
      <div id="player-turn">
        <input id="player-turn-begin" type="button" class="squareButton primary" value="Begin Turn"/>
        <input id="player-turn-end" type="button" class="squareButton" value="End Turn"/>
      </div>
    </div>
  </div>
</body>
</html>
