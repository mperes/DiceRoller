<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="keywords" content="Dragonlance, 5th Age, ,Fifth Age, Saga, Fate Deck, Deck, Cards, DnD, Dangeon and Dragons, Roleplay, RPG"/>
  <meta name="description" content="Lost your Fate Deck? No problem, just use our TableTop. We also support online multiplayer to run remote RPG sessions."/>
  <title>TableTop: An Online Dragonlance 5th Age Saga Fate Deck</title>

  <script>
  const timeStamp = Date.now();
  const externalFiles = [
    {file: 'reset.css', cacheBurst: false},
    {file: 'main.css', cacheBurst: true},
    {file: 'libs/jquery-3.3.1.min.js', cacheBurst: false},
    {file: 'libs/saga.js', cacheBurst: true},
    {file: 'libs/FileSaver.js', cacheBurst: false},
    {file: 'libs/sheet.js', cacheBurst: false},
    {file: 'main.js', cacheBurst: true}
  ];
  function appendFile(filename, cacheBurst) {
    cacheBurst = (typeof variable === 'boolean') ? cacheBurst : false;
    filename = (cacheBurst) ? filename + '?v=' + timeStamp : filename;
    filetype = filename.split('.')[filename.split('.').length-1];
    if (filetype=='js'){
        var fileref=document.createElement('script')
        fileref.setAttribute('type','text/javascript')
        fileref.setAttribute('src', filename)
    }
    else if (filetype=='css') {
        var fileref=document.createElement('link')
        fileref.setAttribute('rel', 'stylesheet')
        fileref.setAttribute('type', 'text/css')
        fileref.setAttribute('href', filename)
    }
    if (typeof fileref!='undefined')
        fileref.onload = function() {
          appendNext();
        }
        document.getElementsByTagName('head')[0].appendChild(fileref)
  }
  function appendNext() {
    if(externalFiles.length === 0) return;
    let nextFile = externalFiles[0];
    appendFile(nextFile.file, nextFile.cacheBurst);
    externalFiles.splice(0, 1);
  }

  appendNext();
  </script>

</head>

<body class="loading">
    <div id="table-top">
      <div id="play-area"></div>
      <div id="deck-pile"></div>
      <div id="deck-graveyard"></div>
      <div id="player-hand"></div>
      <div id="player-turn">
        <input id="player-turn-begin" type="button" class="squareButton primary" value="Begin Turn"/>
        <input id="player-turn-end" type="button" class="squareButton" value="End Turn"/>
      </div>
    </div>
</body>
</html>
